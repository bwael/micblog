{% extends "base.html" %}
{% import "bootstrap/wtf.html" as wtf %}

{% block page_content %}
    <div class="page-header">
    {% if not current_user.is_authenticated %}
    <h1>Hi, Guys!</h1></div>
    {% else %}
    <h1>Welcome back, {{ current_user.name }}!</h1>
    </div>
    <div>
    {{ wtf.quick_form(form) }}
    </div>
    {% endif %}

    {% for post in posts %}
        <div><p>{{ post.author.name }} says: <b>{{ post.body }}</b></p>
    </div>
    {% endfor %}


    {% if pagination %}
        {% for blog in blogs %}
        <p style="color:#ff6600;">{{ blog.body }}</p>
        <p style="color:#4c4c4c;">{{ blog.timestamp }}</p>
        <hr />
        {% endfor %}

        {% if pagination.has_prev %} {# 分页的前端展示 #}
        <a href="{{ url_for('users', user_id=current_user.id, page=pagination.prev_num) }}"><< prev</a>
        {% else %}
        << None
        {% endif %} |
        {% if pagination.has_next %}
        <a href="{{ url_for('users', user_id=current_user.id, page=pagination.next_num) }}">next >></a>
        {% else %}
        None >>
        {% endif %}
    {% else %}
    <!-- <p style="color:blue;">the guy is so lazy.....</p> -->
    {% endif %}
{% endblock %}